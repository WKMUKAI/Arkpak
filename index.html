<!-- =========  NEW FLOW : 01 SPECS  ========= -->
<div class="config-card" id="step1"><!-- was step2 -->
  <h3>01 Specs</h3>

  <!-- PRODUCT TYPE -->
  <label>Product</label>
  <select id="prodType" onchange="prodChanged()">
    <option value="cover">Cover Box</option>
    <option value="slide">Slide Box</option>
    <option value="ukon">Ukon Bag</option>
  </select>

  <!-- WALL -->
  <label>Wall Thickness</label>
  <select id="wallThick" onchange="calcPrice()">
    <option value="1">1 Layer (Standard Rigid)</option>
    <option value="1.2">2 Layers (Extra Rigid +20%)</option>
    <option value="custom">3+ Layers (Custom Quote)</option>
  </select>

  <!-- INNER FIT -->
  <label>Inner Fit</label>
  <select id="fitType" onchange="fitTypeChanged()">
    <option value="standard">Standard (1 ‚Äì 1.5 cm on each side = one layer bubble wrap)</option>
    <option value="ukon">Ukon Bag (snug fit)</option>
    <option value="custom">Custom gap</option>
  </select>

  <!-- CUSTOM GAP -->
  <div id="customGapBox" class="hidden">
    <label>Desired gap (cm)</label>
    <input type="number" id="customGap" value="1" min="0" step="0.1" oninput="calcPrice()">
  </div>

  <!-- QUANTITY -->
  <label>Quantity</label>
  <input id="qty" type="number" value="1" min="1" oninput="calcPrice()">

  <!-- DIMENSION BLOCK (boxes only) -->
  <div id="dimBlock" class="opts-box">
    <hr style="border:0;border-top:1px dashed #ccc;margin:20px 0">
    <div id="boxesContainer">
      <div class="box-line" id="box_0">
        <label style="margin-top:0">Artwork Dimensions (cm)</label>
        <div class="size-row">
          <div><input type="number" class="dim-w" placeholder="W" value="50" oninput="updateCanvas();calcPrice()"></div>
          <div style="padding-top:10px">√ó</div>
          <div><input type="number" class="dim-h" placeholder="H" value="40" oninput="updateCanvas();calcPrice()"></div>
          <div style="padding-top:10px">√ó</div>
          <div><input type="number" class="dim-d" placeholder="D" value="5" oninput="updateCanvas();calcPrice()"></div>
        </div>
      </div>
    </div>
    <button type="button" class="btn btn-outline" onclick="addBox()">+ Add another size</button>
  </div>

  <!-- PRICE -->
  <div id="priceBox" class="price-display-container">
    <div class="price-value" id="totalDisplay">$0</div>
    <div class="price-sub" id="breakdownDisplay">Calculating‚Ä¶</div>
  </div>
  <div id="customQuoteBox" class="price-display-container hidden">
    <div class="price-value">Custom Quote</div>
    <div class="price-sub">Please contact studio</div>
    <a href="mailto:studio@arkpak.hk?subject=Custom Quote Request" class="btn" style="background:#25D366;margin-top:10px">Contact Studio ‚úâÔ∏è</a>
  </div>

  <button class="btn" onclick="nextStep(2)">Review Quote ‚Üí</button>
</div>

<!-- =========  02 LOGISTICS  ========= -->
<div class="config-card hidden" id="step2"><!-- was step1 -->
  <h3>02 Logistics</h3>
  <label>Contact Name</label><input id="cName" type="text" placeholder="Your Name">
  <label>WhatsApp Number</label><input id="cTel" type="tel" placeholder="+852 1234 5678">
  <label>Email Address</label><input id="cEmail" type="email" placeholder="you@example.com">
  <label>Delivery Address</label><input id="cAddr" type="text" placeholder="Start typing address‚Ä¶" autocomplete="off">
  <label>Region (Phase 1 ‚Äì Free Delivery)</label>
  <select id="hkRegion" onchange="calcPrice()">
    <option>Kowloon & HK Island (Free)</option>
    <option>New Territories (+$150)</option>
    <option>Remote Islands (Quote)</option>
  </select>
  <label>Delivery Notes</label><textarea id="delNote" rows="2" placeholder="Stairs, concierge, gate code‚Ä¶"></textarea>
  <button class="btn" onclick="nextStep(3)">Next ‚Üí</button>
  <button class="btn btn-secondary" onclick="prevStep(1)">‚Üê Back</button>
</div>

<!-- =========  03 REVIEW  ========= -->
<div class="config-card hidden" id="step3">
  <h3>03 Review Quote</h3>
  <div id="summary" class="summary-box"></div>
  <div class="price-display-container">
    <div class="price-value" id="finalTotal">$0</div>
    <div class="price-sub">Payable via PayMe / Bank Transfer</div>
  </div>
  <button class="btn" style="background:#25D366" onclick="sendOrder('whatsapp')">Confirm via WhatsApp üí¨</button>
  <button class="btn btn-secondary" onclick="sendOrder('email')">Send via Email ‚úâÔ∏è</button>
  <button class="btn btn-outline" onclick="prevStep(2)">‚Üê Edit</button>
</div>

<footer>ARK_PAK_ STUDIO // 2026 // Hong Kong</footer>

<script>
/* ----------  NAVIGATION (fixed scroll targets)  ---------- */
function nextStep(n){
  // validate only if coming from logistics (step2)
  if(n===3 && (!document.getElementById('cName').value.trim() || !document.getElementById('cTel').value.trim())){
    alert('Please enter Name and WhatsApp number'); return;
  }
  document.querySelectorAll('.config-card').forEach(c=>c.classList.add('hidden'));
  document.getElementById('step'+n).classList.remove('hidden');
  document.getElementById('step'+n).scrollIntoView({behavior:'smooth', block:'start'});
  if(n===3){ generateSummary(); document.getElementById('finalTotal').textContent = document.getElementById('totalDisplay').textContent; }
}
function prevStep(n){
  document.querySelectorAll('.config-card').forEach(c=>c.classList.add('hidden'));
  document.getElementById('step'+n).classList.remove('hidden');
  document.getElementById('step'+n).scrollIntoView({behavior:'smooth', block:'start'});
}

/* ----------  KEEP YOUR EXISTING HELPERS  ---------- */
/*  prodChanged / fitTypeChanged / addBox / removeBox / calcPrice / updateCanvas / generateSummary / sendOrder / initPlaces  */
/*  (no changes needed inside them)  */
</script>
